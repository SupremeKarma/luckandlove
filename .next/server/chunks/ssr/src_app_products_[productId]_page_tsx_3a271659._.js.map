{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/products/%5BproductId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useParams } from 'next/navigation';\nimport Image from 'next/image';\nimport { Button } from '@/components/ui/button';\nimport { useCart } from '@/context/cart-context';\nimport { useToast } from '@/hooks/use-toast';\nimport { ShoppingCart } from 'lucide-react';\nimport { Separator } from '@/components/ui/separator';\nimport { useEffect, useState } from 'react';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\nimport type { Product } from '@/lib/types';\n\nexport default function ProductDetailPage() {\n  const params = useParams();\n  const productId = params.productId as string;\n  const { addToCart } = useCart();\n  const { toast } = useToast();\n\n  const [product, setProduct] = useState<Product | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        setLoading(true);\n        const docRef = doc(db, 'products', productId);\n        const docSnap = await getDoc(docRef);\n\n        if (docSnap.exists()) {\n          setProduct({ id: docSnap.id, ...docSnap.data() } as Product);\n        } else {\n          setError('Product not found.');\n        }\n      } catch (err: any) {\n        setError(`Failed to fetch product: ${err.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (productId) {\n      fetchProduct();\n    }\n  }, [productId]);\n\n  const handleAddToCart = () => {\n    if (product) {\n      addToCart(product);\n      toast({\n        title: 'Added to cart',\n        description: `${product.name} has been added to your cart.`,\n      });\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-[calc(100vh-10rem)] items-center justify-center text-center text-xl text-muted-foreground\">\n        Loading product details...\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex min-h-[calc(100vh-10rem)] items-center justify-center text-center text-xl text-red-500\">\n        {error}\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"flex min-h-[calc(100vh-10rem)] items-center justify-center text-center text-xl text-muted-foreground\">\n        Product not found.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 md:py-12\">\n      <div className=\"grid grid-cols-1 gap-8 md:grid-cols-2 lg:gap-12\">\n        <div className=\"relative h-[400px] w-full overflow-hidden rounded-lg md:h-[500px]\">\n          <Image\n            src={product.imageUrl}\n            alt={product.name}\n            fill\n            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 50vw\"\n            className=\"object-contain\"\n          />\n        </div>\n        <div className=\"flex flex-col justify-center\">\n          <h1 className=\"text-3xl font-bold tracking-tight sm:text-4xl\">{product.name}</h1>\n          <p className=\"mt-2 text-2xl font-semibold text-blue-600\">${product.price.toFixed(2)}</p>\n          <Separator className=\"my-4\" />\n          <p className=\"text-muted-foreground leading-relaxed\">{product.description}</p>\n          \n          <div className=\"mt-6 space-y-4\">\n            <div className=\"text-sm font-medium\">\n              Category: <span className=\"text-muted-foreground\">{product.category}</span>\n            </div>\n            <div className=\"text-sm font-medium\">\n              Availability: <span className={product.stock > 0 ? \"text-green-600\" : \"text-red-600\"}>\n                {product.stock > 0 ? `In Stock (${product.stock})` : 'Out of Stock'}\n              </span>\n            </div>\n          </div>\n\n          <Button\n            className=\"mt-8 w-full md:w-auto\"\n            onClick={handleAddToCart}\n            disabled={product.stock === 0}\n          >\n            {product.stock > 0 ? <ShoppingCart className=\"mr-2 h-4 w-4\" /> : null}\n            {product.stock > 0 ? 'Add to Cart' : 'Out of Stock'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAXA;;;;;;;;;;;;AAce,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,YAAY,OAAO,SAAS;IAClC,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,6IAAO;IAC7B,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ;IAE1B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,WAAW;gBACX,MAAM,SAAS,IAAA,wKAAG,EAAC,4HAAE,EAAE,YAAY;gBACnC,MAAM,UAAU,MAAM,IAAA,2KAAM,EAAC;gBAE7B,IAAI,QAAQ,MAAM,IAAI;oBACpB,WAAW;wBAAE,IAAI,QAAQ,EAAE;wBAAE,GAAG,QAAQ,IAAI,EAAE;oBAAC;gBACjD,OAAO;oBACL,SAAS;gBACX;YACF,EAAE,OAAO,KAAU;gBACjB,SAAS,CAAC,yBAAyB,EAAE,IAAI,OAAO,EAAE;YACpD,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,WAAW;YACb;QACF;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,kBAAkB;QACtB,IAAI,SAAS;YACX,UAAU;YACV,MAAM;gBACJ,OAAO;gBACP,aAAa,GAAG,QAAQ,IAAI,CAAC,6BAA6B,CAAC;YAC7D;QACF;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBAAuG;;;;;;IAI1H;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAI,WAAU;sBACZ;;;;;;IAGP;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAI,WAAU;sBAAuG;;;;;;IAI1H;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,wIAAK;wBACJ,KAAK,QAAQ,QAAQ;wBACrB,KAAK,QAAQ,IAAI;wBACjB,IAAI;wBACJ,OAAM;wBACN,WAAU;;;;;;;;;;;8BAGd,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAiD,QAAQ,IAAI;;;;;;sCAC3E,8OAAC;4BAAE,WAAU;;gCAA4C;gCAAE,QAAQ,KAAK,CAAC,OAAO,CAAC;;;;;;;sCACjF,8OAAC,kJAAS;4BAAC,WAAU;;;;;;sCACrB,8OAAC;4BAAE,WAAU;sCAAyC,QAAQ,WAAW;;;;;;sCAEzE,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;wCAAsB;sDACzB,8OAAC;4CAAK,WAAU;sDAAyB,QAAQ,QAAQ;;;;;;;;;;;;8CAErE,8OAAC;oCAAI,WAAU;;wCAAsB;sDACrB,8OAAC;4CAAK,WAAW,QAAQ,KAAK,GAAG,IAAI,mBAAmB;sDACnE,QAAQ,KAAK,GAAG,IAAI,CAAC,UAAU,EAAE,QAAQ,KAAK,CAAC,CAAC,CAAC,GAAG;;;;;;;;;;;;;;;;;;sCAK3D,8OAAC,4IAAM;4BACL,WAAU;4BACV,SAAS;4BACT,UAAU,QAAQ,KAAK,KAAK;;gCAE3B,QAAQ,KAAK,GAAG,kBAAI,8OAAC,sOAAY;oCAAC,WAAU;;;;;2CAAoB;gCAChE,QAAQ,KAAK,GAAG,IAAI,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;AAMjD","debugId":null}}]
}